---
title: "Overview"
output:
  word_document: 
    fig_height: 12
    fig_width: 8
    highlight: tango
  html_document: default
---
It is not unusual for a professional to find herself facing a new complex software system and to be expected to make sense of it quickly. There may be a lot of documentation to go through and relevant training sessions, but self-exploring can complement this very well.

We have created a program for extracing basic structural information about a particular T24 installation and will use this as a basis for our analysis

```{r message=FALSE}
# Load observations
suppressWarnings(library(readxl))
tobs <- read_excel('../data/t24.xlsx')

# Load transformation functions and start the sequence
source('atrf.R')
sov <- analysis('System Overview', 'tobs')
```

TODO: Basic exploratory analysis

Our first attempt to explore the structure highlights the challenges in doing that. There are too many items too grasp

```{r}
# Create a structure comprised of all centers
entities <- browseEntities(sov)$object
sov <- grow(sov, entities, depth=0)
# load('sov2.dat')
sov
```

Certainly not should all the entities be treated equally. We can try to identify what makes the difference based on some metric like e.g. size in bytes, connectedness, or completeness. Below a simplre record count (*wt_numrec*) is used for this purpose 

```{r}
# Pregiven sizing based on record counts
sov <- applySizing(sov, 'wt_numrec')

# Remove entities with zero records
centers <- getCenters(sov)
zeroCenters <- centers[centers$size==0,'name']
sov <- void(sov, centers=zeroCenters)

# Identify main centers
sov <- applySimplicity(sov)
sov
```

Partitioning by module seems to bring some additional clarity, but not too much

```{r}
# Group the entities by module

# TODO: Would be great to see module elements clustered
sov <- applyPartitioning(sov, 'mbrp_module')
sov
```

We can use partitioning for grouping the entities, which by preserving the numeric importance in summing the entities will give as already quite comprensive picture of the particular system

```{r}
sov <- group(sov, by='membership')

# sov <- removePartitioning(sov)

# Membership detection error analysis is not a concern
errc <- c('ERR_NO_PRODUCT_IN_PGM.FILE', 'ERR_NOT_IN_PGM.FILE')
sov <- void(sov, centers=errc)
sov
```

Of course, the presentation can be improved by using different layout and randomizations

```{r}
browseLayouts(sov)
sov <- applyLayout(sov, 'layout_components')

# TODO: Initial seed pregiven to ensure reproducibility
browseSeeds(sov)
sov <- applySeed(sov, 201)
sov
```

Finally, we can conclude the analysis by plotting the sequence of essential steps  

```{r}
sqmain <- c('all entities', 'sizing applied', 'partitioning applied')
sqmain <- c(sqmain, 'grouping and polishing')
plot(sov, main=sqmain, steps=c(2, 5, 6, 10))
```

