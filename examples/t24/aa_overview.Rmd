---
title: "AA Module Overview"
output:
  html_document: default
---
This is an overview of the AA module
```{r}
suppressWarnings(suppressPackageStartupMessages(library(tidyverse)))

# Load analysis functions (TODO: still not happy with the name...)
source('../../wda.r')

# Load obeservations
tobs <- read_csv('../../data/T24R18MB.csv', col_types = cols())

aa <- analysis('Arrangement Architecture Overview', 'tobs')

```

Many entities even without observed links:

```{r message=FALSE, fig.height=15, fig.width=15}
# Grow the big picture structure
aa <- grow(aa, 'AA.ARRANGEMENT') %>% applyPartitioning2('product')

applyHighlight(aa, 'AA.ARRANGEMENT')

# Total number of entities
nrow(elems <- getElements(aa))

# Products shown
unique(elems$membership2)
```

 *TODO: legends to match products to colors*
Convert color hex code to color names
https://stat.ethz.ch/pipermail/r-help/2015-April/427663.html

*TODO: Fetch EB.PRODUCT*
